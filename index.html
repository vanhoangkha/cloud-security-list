<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cloud Security List</title>
  <style>
    :root { --bg: #0d1117; --fg: #c9d1d9; --accent: #58a6ff; --card: #161b22; --border: #30363d; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--fg); line-height: 1.6; padding: 2rem; }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { color: var(--accent); margin-bottom: 0.5rem; }
    .subtitle { color: #8b949e; margin-bottom: 2rem; }
    .tabs { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .tab { background: var(--card); border: 1px solid var(--border); padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; color: var(--fg); }
    .tab.active, .tab:hover { background: var(--accent); color: var(--bg); }
    .search { width: 100%; padding: 0.75rem; background: var(--card); border: 1px solid var(--border); border-radius: 6px; color: var(--fg); margin-bottom: 1.5rem; font-size: 1rem; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; }
    .card h3 { color: var(--accent); margin-bottom: 0.5rem; }
    .card a { color: var(--accent); text-decoration: none; }
    .card a:hover { text-decoration: underline; }
    .links { display: flex; gap: 1rem; margin-top: 0.5rem; font-size: 0.875rem; }
    .section { display: none; }
    .section.active { display: block; }
    .glossary-item { padding: 0.5rem 0; border-bottom: 1px solid var(--border); }
    .glossary-item strong { color: var(--accent); }
  </style>
</head>
<body>
  <div class="container">
    <h1>☁️ Cloud Security List</h1>
    <p class="subtitle">A curated list of cloud security tools, vendors, and resources</p>
    <input type="text" class="search" id="search" placeholder="Search...">
    <div class="tabs" id="tabs"></div>
    <div id="content"></div>
  </div>
  <script>
    const sections = ['vendors', 'opensource', 'threat-research', 'cloud-platforms', 'acquisitions', 'frameworks', 'community', 'cyber-insurance'];
    let data = {};

    async function loadData() {
      for (const s of sections) {
        const res = await fetch(`data/${s}.json`);
        data[s] = await res.json();
      }
      renderTabs();
      showSection('vendors');
    }

    function renderTabs() {
      const tabs = document.getElementById('tabs');
      tabs.innerHTML = sections.map(s => 
        `<button class="tab" data-section="${s}">${s.replace('-', ' ').replace(/\b\w/g, c => c.toUpperCase())}</button>`
      ).join('');
      tabs.addEventListener('click', e => {
        if (e.target.classList.contains('tab')) showSection(e.target.dataset.section);
      });
    }

    function showSection(name) {
      document.querySelectorAll('.tab').forEach(t => t.classList.toggle('active', t.dataset.section === name));
      const content = document.getElementById('content');
      content.innerHTML = renderSection(name, data[name]);
    }

    function renderSection(name, d) {
      if (name === 'vendors') return renderVendors(d);
      if (name === 'opensource') return renderList(d, 'Open Source Projects');
      if (name === 'threat-research') return renderList(d, 'Threat Research');
      if (name === 'acquisitions') return renderAcquisitions(d);
      if (name === 'cloud-platforms') return renderPlatforms(d);
      if (name === 'frameworks') return renderFrameworks(d);
      if (name === 'community') return renderCommunity(d);
      if (name === 'cyber-insurance') return renderList(d, 'Cyber Insurance');
      return '';
    }

    function renderVendors(d) {
      const card = v => `<div class="card"><h3>${v.name}</h3><div class="links">
        <a href="${v.url}" target="_blank" rel="noopener">Website</a>
        <a href="${v.linkedin}" target="_blank" rel="noopener">LinkedIn</a>
        ${v.ticker ? `<a href="https://finance.yahoo.com/quote/${v.ticker}" target="_blank" rel="noopener">${v.ticker}</a>` : ''}
        ${v.crunchbase ? `<a href="${v.crunchbase}" target="_blank" rel="noopener">Crunchbase</a>` : ''}
      </div></div>`;
      return `<h2>Public</h2><div class="grid">${d.public.map(card).join('')}</div>
        <h2 style="margin-top:2rem">Private</h2><div class="grid">${d.private.map(card).join('')}</div>`;
    }

    function renderList(d, title) {
      return `<h2>${title}</h2><div class="grid">${d.map(i => 
        `<div class="card"><h3><a href="${i.url}" target="_blank" rel="noopener">${i.name}</a></h3></div>`
      ).join('')}</div>`;
    }

    function renderAcquisitions(d) {
      return `<h2>Acquisitions</h2><div class="grid">${d.sort((a,b) => b.date.localeCompare(a.date)).map(a => 
        `<div class="card"><h3>${a.target}</h3><p>Acquired by <strong>${a.acquirer}</strong></p>
        <p>${a.date}${a.amount ? ` • ${a.amount}` : ''}</p>
        ${a.url ? `<a href="${a.url}" target="_blank" rel="noopener">Announcement</a>` : ''}</div>`
      ).join('')}</div>`;
    }

    function renderPlatforms(d) {
      return Object.entries(d).map(([name, p]) => `
        <h2>${name.toUpperCase()}</h2>
        <div class="grid">${(p.services || []).map(s => 
          `<div class="card"><h3><a href="${s.url}" target="_blank" rel="noopener">${s.name}</a></h3></div>`
        ).join('')}</div>
      `).join('');
    }

    function renderFrameworks(d) {
      return `<h2>Glossary</h2><div>${Object.entries(d.glossary).map(([k,v]) => 
        `<div class="glossary-item"><strong>${k}</strong> - ${v}</div>`
      ).join('')}</div>
      <h2 style="margin-top:2rem">Frameworks</h2><div class="grid">${d.frameworks.map(f => 
        `<div class="card"><h3><a href="${f.url}" target="_blank" rel="noopener">${f.name}</a></h3></div>`
      ).join('')}</div>`;
    }

    function renderCommunity(d) {
      return `<h2>Newsletters</h2><div class="grid">${d.newsletters.map(n => 
        `<div class="card"><h3><a href="${n.url}" target="_blank" rel="noopener">${n.name}</a></h3><p>by ${n.author}</p></div>`
      ).join('')}</div>
      <h2 style="margin-top:2rem">Podcasts</h2><div class="grid">${d.podcasts.map(p => 
        `<div class="card"><h3><a href="${p.url}" target="_blank" rel="noopener">${p.name}</a></h3></div>`
      ).join('')}</div>`;
    }

    document.getElementById('search').addEventListener('input', e => {
      const q = e.target.value.toLowerCase();
      document.querySelectorAll('.card').forEach(c => {
        c.style.display = c.textContent.toLowerCase().includes(q) ? '' : 'none';
      });
    });

    loadData();
  </script>
</body>
</html>
